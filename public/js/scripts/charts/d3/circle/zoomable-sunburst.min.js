$(window).on("load",function(){function t(t){u.transition().duration(750).tween("scale",function(){var n=d3.interpolate(r.domain(),[t.x,t.x+t.dx]),a=d3.interpolate(i.domain(),[t.y,1]),e=d3.interpolate(i.range(),[t.y?20:0,radius]);return function(t){r.domain(n(t)),i.domain(a(t)).range(e(t))}}).selectAll("path").attrTween("d",function(t){return function(){return l(t)}})}var n=d3.select("#zoomable-sunburst"),a=n.node().getBoundingClientRect().width;radius=Math.min(a,400)/2-10;var e=d3.format(",d"),r=d3.scale.linear().range([0,2*Math.PI]),i=d3.scale.sqrt().range([0,radius]),d=d3.scale.ordinal().range(["#99B898","#FECEA8","#FF847C","#E84A5F","#C06C84","#6C5B7B","#355C7D"]),o=d3.layout.partition().value(function(t){return t.size}),l=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,r(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,r(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,i(t.y))}).outerRadius(function(t){return Math.max(0,i(t.y+t.dy))}),u=n.append("svg").attr("width",a).attr("height",400).append("g").attr("transform","translate("+a/2+",200)");d3.json("../../../app-assets/data/d3/circle/flare.json",function(n,a){if(n)throw n;u.selectAll("path").data(o.nodes(a)).enter().append("path").attr("d",l).style("fill",function(t){return d((t.children?t:t.parent).name)}).on("click",t).append("title").text(function(t){return t.name+"\n"+e(t.value)})}),d3.select(self.frameElement).style("height","400px")});